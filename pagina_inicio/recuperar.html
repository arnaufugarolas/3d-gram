<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link href="../css/recuperar.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-firestore.js"></script>
</head>
<body class="page">
    <form name="resetPss" id="resetPss" method="POST" onsubmit="" action="">
        <div class="caja">
            <h3>3D-GRAM</h3>
            <p>Escriba su email para restablecer su contrasenya:</p>
            <input class="input" id="login_email" type="email" required>
	    <button class="boton boton01" id="recContra" type="button">Enviar</button>
        <a href="../index.html"><button class="boton boton01" id="recContra" type="button">iniciar session</button></a>
        </div>
    </form>
</body>
<script src="../js/config.js"></script>
<script src="../js/firestore.js"></script>
<script src="../js/storage.js"></script>
<script src="../js/functions.js"></script>
<script>
        //reset de contraseña
        const mailField = document.getElementById('login_email')
    const resetPassword = document.getElementById('recContra')
    const resetPasswordFunction = () =>{
        const email =mailField.value;

        auth.sendPasswordResetEmail(email).then(() => {
            console.log('Reseteo de contraseña')
            alert("S'ha enviat un email al teu correu amb les especificacions necessaries");
        })
        .catch(error => {
            alert("Aquest correu no està registrat, primer registrat!");
        })
    }
    resetPassword.addEventListener('click',resetPasswordFunction);
</script>
</html>
